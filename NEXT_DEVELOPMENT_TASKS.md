# 다음 개발 작업 목록

## 📊 현재 상태
- ✅ 환경 변수 설정 완료
- ✅ 이미지 처리 정상 작동
- ✅ AI 분석 파이프라인 완료 (백엔드)
- ✅ 기본 UI/UX 구조 완료

---

## 🎯 우선순위별 개발 작업

### 🔥 **P0: 핵심 UX 개선 (즉시 시작 가능)**

#### 1. 이미지 업로드 진행도 표시 ⭐ **최우선**
**현재 상태**: 업로드 진행 상황이 불명확함

**작업 내용**:
- [ ] 업로드 진행률 바 추가 (0-100%)
- [ ] 단계별 진행 상태 표시
  - "이미지 업로드 중... (50%)"
  - "AI 분석 중... (75%)"
  - "결과 생성 중... (90%)"
- [ ] 예상 시간 표시 (선택사항)
- [ ] 취소 버튼 추가 (선택사항)

**파일 위치**:
- `skinfront/app/features/analyze/components/ImageUploadSection.tsx`
- `skinfront/app/features/analysis/hooks/useAnalysisFlow.ts`
- `skinfront/app/components/analysis/ProgressLoader.tsx`

**예상 시간**: 2-3시간

---

#### 2. 분석 결과 시각화 개선
**현재 상태**: 기본적인 막대 그래프만 있음

**작업 내용**:
- [ ] 레이더 차트 추가 (5개 지표 시각화)
  - pigmentation, acne, redness, pores, wrinkles
- [ ] 히트맵 오버레이 개선
  - 실제 마스크 좌표 기반 오버레이
  - 투명도 조절 슬라이더
- [ ] 색상 코딩된 배지 개선
  - "양호" / "보통" / "개선 필요" / "주의 필요"
- [ ] 시술 추천 이유 설명 추가
  - "왜 이 시술이 추천되는지" 한 줄 설명

**파일 위치**:
- `skinfront/app/features/analysis/ResultView.tsx`
- 새 컴포넌트: `skinfront/app/components/analysis/RadarChart.tsx`

**예상 시간**: 1일

---

#### 3. 에러 처리 및 재시도 로직 강화
**현재 상태**: 기본적인 에러 처리만 있음

**작업 내용**:
- [ ] 네트워크 에러 자동 재시도 (exponential backoff)
- [ ] 재시도 횟수 표시 ("재시도 중... (2/3)")
- [ ] "다시 시도" 버튼 추가
- [ ] 에러 타입별 친화적 메시지
  - 네트워크 에러: "인터넷 연결을 확인해주세요"
  - API 에러: "일시적인 오류입니다. 잠시 후 다시 시도해주세요"
  - 이미지 에러: "이미지가 너무 큽니다. 다시 촬영해주세요"

**파일 위치**:
- `skinfront/app/lib/api/client.ts` (이미 retry 로직 있음, 개선 필요)
- `skinfront/app/features/analysis/hooks/useAnalysisFlow.ts`

**예상 시간**: 2-3시간

---

### 🟡 **P1: 사용자 경험 개선 (1주)**

#### 4. 이미지 품질 실시간 피드백
**현재 상태**: 업로드 후에만 품질 확인

**작업 내용**:
- [ ] 촬영/선택 직후 품질 검사
- [ ] 실시간 피드백 표시
  - "조명이 어둡습니다. 밝은 곳에서 다시 촬영해주세요"
  - "초점이 흐릿합니다. 더 선명하게 촬영해주세요"
  - "멋져요! 분석에 적합한 사진이네요"
- [ ] 재촬영 권장 버튼
- [ ] 품질 점수 표시 (선택사항)

**파일 위치**:
- `skinfront/app/features/analyze/components/ImagePreviewSection.tsx`
- `skinfront/app/lib/image/processing.ts` (이미 품질 검사 함수 있음)

**예상 시간**: 1일

---

#### 5. 히스토리 화면 기능 강화
**현재 상태**: 기본 리스트와 그래프만 있음

**작업 내용**:
- [ ] 분석 기록 삭제 기능
- [ ] 필터링 개선 (날짜, 신뢰도, 문제 유형)
- [ ] 정렬 옵션 (최신순, 오래된순, 신뢰도순)
- [ ] 개선 추이 요약 개선
  - "지난 30일간 색소 개선 +12%"
  - "모공 상태 개선 +8%"
- [ ] Before/After 비교 UI 개선
  - 슬라이더로 비교
  - 개선 지표 하이라이트

**파일 위치**:
- `skinfront/app/history/page.tsx`
- `skinfront/app/components/history/BeforeAfterComparison.tsx`
- `skinfront/app/components/history/ImprovementSummary.tsx`

**예상 시간**: 2일

---

#### 6. 시술 상세 화면 개선
**현재 상태**: 기본 정보만 표시

**작업 내용**:
- [ ] AI 생성 설명 문구 표시 (NLG 결과 활용)
- [ ] 시술 효과 상세 설명
- [ ] 평균 비용 범위 표시
- [ ] 회복 기간 및 주의사항
- [ ] "관심 등록" 기능 (DB에 저장)
- [ ] 관련 시술 추천

**파일 위치**:
- `skinfront/app/treatments/[id]/page.tsx`

**예상 시간**: 1일

---

#### 7. 디자인 시스템 정리
**현재 상태**: 일부 컴포넌트만 재사용 가능

**작업 내용**:
- [ ] Design Tokens 파일 정리
  - `skinfront/app/styles/design-tokens.ts` 확장
  - 색상, 폰트, 간격, 그림자 등
- [ ] 공통 컴포넌트 확장
  - Button variants 정리
  - Input 컴포넌트 개선
  - Card 컴포넌트 variants
  - Modal 컴포넌트 개선
- [ ] 컴포넌트 스토리북 (선택사항)

**파일 위치**:
- `skinfront/app/styles/design-tokens.ts`
- `skinfront/app/components/ui/`

**예상 시간**: 2일

---

### 🟢 **P2: 품질 및 안정성 (2주)**

#### 8. 테스트 커버리지 확대
**작업 내용**:
- [ ] 핵심 훅 단위 테스트
- [ ] 주요 컴포넌트 통합 테스트
- [ ] E2E 테스트 시나리오 확대
  - 회원가입 → 분석 → 결과 확인
  - 히스토리 조회 → 삭제
- [ ] CI/CD 파이프라인 구축

**예상 시간**: 3-4일

---

#### 9. 모니터링 및 로깅
**작업 내용**:
- [ ] Sentry 연동 (에러 추적)
- [ ] 사용자 이벤트 로깅
  - 분석 시작, 완료, 실패
  - 시술 상세 조회
  - 히스토리 조회
- [ ] 성능 메트릭 수집
  - 업로드 시간
  - 분석 시간
  - 페이지 로딩 시간

**예상 시간**: 2일

---

#### 10. 성능 최적화
**작업 내용**:
- [ ] 이미지 lazy loading
- [ ] 코드 스플리팅
- [ ] API 응답 캐싱 개선
- [ ] 번들 크기 최적화

**예상 시간**: 1-2일

---

### 🔵 **P3: 확장 기능 (3주+)**

#### 11. 온보딩 개선
- 촬영 가이드 이미지 추가
- 품질 체크 가이드
- 튜토리얼 오버레이

#### 12. 알림 시스템
- 이메일 알림 (분석 완료)
- 브라우저 푸시 알림 (선택사항)

#### 13. 다국어 지원
- i18n 라이브러리 도입
- 한국어/영어 번역

---

## 📅 권장 개발 순서

### Week 1: P0 완성
1. 이미지 업로드 진행도 표시 (2-3시간)
2. 분석 결과 시각화 개선 (1일)
3. 에러 처리 강화 (2-3시간)

### Week 2: P1 완성
4. 이미지 품질 실시간 피드백 (1일)
5. 히스토리 화면 강화 (2일)
6. 시술 상세 화면 개선 (1일)
7. 디자인 시스템 정리 (2일)

### Week 3-4: P2 완성
8. 테스트 커버리지 확대
9. 모니터링 및 로깅
10. 성능 최적화

---

## 💡 즉시 시작 가능한 작업

### 오늘 바로 시작할 수 있는 것:

1. **이미지 업로드 진행도 표시** (2-3시간)
   - `useAnalysisFlow` 훅에 progress 상태 추가
   - `ProgressLoader` 컴포넌트 개선
   - 단계별 진행률 표시

2. **에러 처리 개선** (2-3시간)
   - 재시도 로직 개선
   - 친화적 에러 메시지

3. **레이더 차트 추가** (3-4시간)
   - `recharts` 또는 `chart.js` 사용
   - 5개 지표 시각화

---

## 🎯 MVP 출시 기준

**현재 진행률**: 약 80% 완료

**남은 핵심 작업**:
- ✅ 환경 변수 설정
- ✅ 이미지 처리
- ⚠️ 업로드 진행도 표시
- ⚠️ 에러 처리 개선
- ⚠️ 결과 시각화 개선

**P0 항목 3개만 완료하면 MVP 출시 가능!**

