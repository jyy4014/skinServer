# 시술 상세 페이지 MCP 테스트 시나리오

## 테스트 대상
- URL: `http://localhost:3000/treatments/{treatmentId}`
- 테스트 시술 ID: `45bae4f0-a285-4117-afaa-306aa94e715a` (프락셀 레이저)

## 테스트 시나리오

### 1. 기본 렌더링 테스트
- [ ] 시술 이름이 표시되는지 확인 ("프락셀 레이저")
- [ ] 시술 설명이 표시되는지 확인
- [ ] 효과(benefits) 섹션이 표시되는지 확인
- [ ] 예상 비용이 표시되는지 확인 (200,000원)
- [ ] 소요 시간이 표시되는지 확인 (약 30분)
- [ ] 회복 기간이 표시되는지 확인 (3-7일)
- [ ] 위험도가 표시되는지 확인 (중)
- [ ] 주의사항 섹션이 표시되는지 확인
- [ ] "홈으로" 버튼이 표시되는지 확인
- [ ] "내 피부 분석하기" 버튼이 표시되는지 확인
- [ ] "뒤로가기" 링크가 표시되는지 확인

### 2. AI 설명 표시 테스트 (분석 결과가 있는 경우)
- [ ] "AI 맞춤 설명" 카드가 표시되는지 확인
- [ ] AI 추천 배지("AI 추천 시술")가 표시되는지 확인
- [ ] 적합도 퍼센트가 표시되는지 확인 (예: "적합도 85%")
- [ ] AI 생성 headline이 표시되는지 확인
- [ ] AI 생성 paragraphs가 표시되는지 확인
- [ ] 예상 개선률 카드가 표시되는지 확인 (예: "예상 개선률 75%")

### 3. 관심 등록 기능 테스트
- [ ] 관심 등록 버튼(하트 아이콘)이 표시되는지 확인
- [ ] 로그인하지 않은 상태에서 버튼 클릭 시 로그인 페이지로 리다이렉트되는지 확인
- [ ] 로그인한 상태에서:
  - [ ] 등록되지 않은 시술은 빈 하트(회색 배경)로 표시되는지 확인
  - [ ] 등록된 시술은 채워진 하트(핑크 배경)로 표시되는지 확인
  - [ ] 빈 하트 클릭 시 관심 시술로 등록되는지 확인
  - [ ] 등록 성공 시 성공 토스트가 표시되는지 확인 ("관심 시술로 등록되었습니다.")
  - [ ] 채워진 하트 클릭 시 관심 시술에서 제거되는지 확인
  - [ ] 해제 성공 시 성공 토스트가 표시되는지 확인 ("관심 시술에서 제거되었습니다.")
  - [ ] 로딩 중일 때 버튼이 비활성화되는지 확인

### 4. 네비게이션 테스트
- [ ] "뒤로가기" 링크 클릭 시 홈으로 이동하는지 확인
- [ ] "홈으로" 버튼 클릭 시 홈으로 이동하는지 확인
- [ ] "내 피부 분석하기" 버튼 클릭 시 분석 페이지로 이동하는지 확인

### 5. 로딩 및 에러 상태 테스트
- [ ] 로딩 중일 때 "로딩 중..." 메시지가 표시되는지 확인
- [ ] 시술 정보가 없을 때 "시술 정보를 찾을 수 없습니다." 메시지가 표시되는지 확인

### 6. 접근성 테스트
- [ ] 관심 등록 버튼에 aria-label이 있는지 확인 ("관심 시술 등록" 또는 "관심 시술 해제")
- [ ] 키보드로 모든 버튼에 접근 가능한지 확인
- [ ] 스크린 리더로 읽을 수 있는지 확인

## 테스트 실행 방법

### 수동 테스트
1. 개발 서버 실행 확인:
   ```bash
   cd skinfront
   npm run dev
   ```

2. 브라우저에서 접속:
   - URL: `http://localhost:3000/treatments/45bae4f0-a285-4117-afaa-306aa94e715a`

3. 각 시나리오를 순차적으로 테스트

### MCP Playwright 테스트 (서버가 정상 작동할 때)
```javascript
// 1. 페이지 이동
navigate('http://localhost:3000/treatments/45bae4f0-a285-4117-afaa-306aa94e715a')

// 2. 스크린샷
screenshot('treatment_detail_initial')

// 3. 텍스트 확인
getVisibleText() // "프락셀 레이저" 포함 확인

// 4. 버튼 클릭 테스트
click('button[aria-label="관심 시술 등록"]')

// 5. 네비게이션 테스트
click('text=홈으로')
// URL이 /home인지 확인

// 6. 뒤로가기
goBack()
click('text=내 피부 분석하기')
// URL이 /analyze인지 확인
```

## 예상 결과

### 성공 케이스
- 모든 UI 요소가 올바르게 렌더링됨
- 관심 등록/해제가 정상 작동함
- 네비게이션이 정상 작동함
- AI 설명이 있을 때 올바르게 표시됨

### 실패 케이스
- 개발 서버가 응답하지 않음 (현재 상태)
- 시술 정보를 찾을 수 없음
- 관심 등록 기능이 작동하지 않음
- 네비게이션이 작동하지 않음

## 현재 이슈
- 개발 서버가 타임아웃되고 있음 (포트 3000은 열려있지만 응답 없음)
- 서버 재시작 필요할 수 있음

